import{d as i,y,u as e}from"./index-B-Qr-q_4.js";import{u as d,H as n}from"./index-SNiTgTDn.js";const b=()=>e("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),c=(t,l)=>{const a=l.trim();return a.length<2?null:`https://api.themoviedb.org/3/search/${t}?api_key=403829fffc80d8184aa974d631a475c5&query=${encodeURIComponent(a)}`};function N(){const[t,l]=i(""),[a,u]=i("");y(()=>{const r=setTimeout(()=>{u(t)},400);return()=>{clearTimeout(r)}},[t]);const h=r=>{l(r.target.value)},m=c("tv",a),p=c("movie",a),{data:s,isLoading:f,error:g}=d(m),{data:o,isLoading:x,error:v}=d(p);return e("article",{className:`${a?"":"flex items-center justify-center flex-col h-full"}`,children:[e("form",{className:"w-full",children:[e("label",{for:"default-search",className:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white",children:"Search"}),e("div",{className:"relative",children:[e("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:e(b,{})}),e("input",{type:"search",id:"default-search",className:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-xl bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search Movies, Series, anything...",onInput:h,value:t,required:!0})]})]}),a&&e("div",{className:"rounded-xl p-2 bg-blue-100 mt-1 max-h-[50vh] overflow-auto",id:"result",children:f||x?e("p",{children:"Loading..."}):g||v?e("p",{className:"text-red-500",children:"Error loading results"}):e("div",{className:"flex flex-col md:flex-row gap-2",children:[o&&e("div",{className:"flex flex-col gap-2 flex-1",children:o?.results?.map(r=>e(n,{id:r.id,poster_path:r.poster_path,title:r.title,mediaType:"movie",release_date:r.release_date,rating:r.vote_average}))}),s&&e("div",{className:"flex flex-col gap-2 flex-1",children:s.results.map(r=>e(n,{title:r.name,poster_path:r.poster_path,mediaType:"tv",id:r.id,release_date:r.first_air_date,rating:r.vote_average}))})]})})]})}export{b as SearchIcon,c as buildSearchUrl,N as default};
